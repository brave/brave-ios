(()=>{"use strict";if(!window.__firefox__){function e(e){let t=Object.assign({},Object.getOwnPropertyDescriptors(e),e.prototype?Object.getOwnPropertyDescriptors(e.prototype):void 0);return delete t.prototype,Object.create(null,t)}let t=e(Object),r=e(Function),n=e(Reflect),o=e(Array),i=window.webkit.messageHandlers;e=void 0;let l=[t,r,n,o],p=r.call,a=r.apply,c=r.bind;p.call=p,p.apply=a,a.call=p,a.apply=a,c.call=p,c.apply=a;let s=function(e){if(t.isExtensible(e)){const n="function"==typeof e?"function () {\n\t[native code]\n}":"[object Object]",o=function(){return n},i={toString:o};if("function"==typeof e){const e={call:r.call,apply:r.apply,bind:r.bind};for(const[r,n]of t.entries(e))i[r]=n}for(const[e,r]of t.entries(i))(t.getOwnPropertyDescriptor(o,e)||{}).writable&&(o[e]=r),t.defineProperty(o,e,{enumerable:!1,configurable:!1,writable:!1,value:r}),"toString"!==e&&s.deepFreeze(o[e]);s.deepFreeze(o);for(const[r,n]of t.entries(i))(t.getOwnPropertyDescriptor(e,r)||{}).writable&&(e[r]=n),t.defineProperty(e,r,{enumerable:!1,configurable:!1,writable:!1,value:n}),s.deepFreeze(e[r])}return e};s.deepFreeze=function(e){return t.freeze(e),e.prototype&&t.freeze(e.prototype),e},s.postNativeMessage=function(e,t){let r=window.webkit;delete window.webkit,delete window.webkit.messageHandlers,delete i[e].postMessage;let n=i[e].postMessage(t);return window.webkit=r,n},s(s.deepFreeze),s(s.postNativeMessage),s(s),s.deepFreeze(s.deepFreeze),s.deepFreeze(s.postNativeMessage),s.deepFreeze(s);for(const f of l)s(f),s.deepFreeze(f);let u=s((function(e){let t=s({});return new Proxy({},{apply:(e,t,r)=>n.apply(e,t,r),deleteProperty(e,r){r in e&&delete e[r],r in t&&delete e[r]},get(r,o,i){if(e&&e[o])return e[o];const l=n.getOwnPropertyDescriptor(r,o);return!l||l.configurable||l.writable?n.get(t,o,i):n.get(r,o,i)},set(r,o,i,l){if(e&&e[o])return!1;const p=n.getOwnPropertyDescriptor(r,o);return!(p&&!p.configurable&&!p.writable)&&(i&&(i=s(i)),n.set(t,o,i,l))},defineProperty(e,r,o){if(o&&!o.configurable){if(o.set&&!o.get)return!1;if(o.value&&(o.value=s(o.value)),!o.writable)return n.defineProperty(e,r,o)}return o.value&&(o.value=s(o.value)),n.defineProperty(t,r,o)},getOwnPropertyDescriptor(e,r){const o=n.getOwnPropertyDescriptor(e,r);return!o||o.configurable||o.writable?n.getOwnPropertyDescriptor(t,r):o},ownKeys(e){let t=[];return t=t.concat(n.ownKeys(e)),t}})}));t.defineProperty(window,"__firefox__",{enumerable:!1,configurable:!1,writable:!1,value:s((function(){let e=s({}),r=s((function(r,n){return!e[r]&&(e[r]=!0,"function"==typeof n&&s(n)(s,t,o),!0)})),n=s((function(e){return"function"==typeof e&&(s(e)(s,t,o),!0)}));return u({includeOnce:s.deepFreeze(r),execute:s.deepFreeze(n)})}))()}),s.deepFreeze(UserMessageHandler),s.deepFreeze(webkit.messageHandlers)}})();